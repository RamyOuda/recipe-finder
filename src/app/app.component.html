@if (loading()) {
<div class="spinner-container">
  <mat-spinner></mat-spinner>
</div>
} @else {
<section class="inputs">
  <h2>Select Items</h2>

  <form [formGroup]="equipmentForm" (ngSubmit)="onSubmit()">
    @for (input of equipmentInputs; track input.control) {
    <mat-form-field>
      <mat-label>{{ input.label }}</mat-label>
      <input
        type="text"
        [attr.aria-label]="input.label"
        matInput
        [formControlName]="input.control"
        [matAutocomplete]="auto"
        (focus)="onInputSelected(input.control)"
      />
      <mat-autocomplete
        #auto="matAutocomplete"
        [displayWith]="autocompleteDisplay"
      >
        @for (option of filteredOptions | async; track $index) {
        <mat-option [value]="option">{{ option.name }}</mat-option>
        }
      </mat-autocomplete>
    </mat-form-field>
    }

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="equipmentForm.invalid || !equipmentForm.dirty"
    >
      Submit
    </button>
  </form>

  <div class="img-container">
    <img
      src="OverTheMoon.png"
      alt="Guild Emblem"
      matTooltip="Over the Moon"
      matTooltipPosition="above"
    />
  </div>
</section>

<section class="recipe">
  <h2>Required Materials</h2>
</section>

}

<footer>A site made by Nub-cakez&trade;</footer>
